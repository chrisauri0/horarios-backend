generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model carreras {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  nombre     String
  division   String
  data       Json?
  created_at DateTime? @default(now()) @db.Timestamptz(6)
  grado      Int
}

model grupos {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  nombre     String
  grado      Int
  carrera    String
  division   String
  data       Json?
  created_at DateTime? @default(now()) @db.Timestamptz(6)
}

model horarios {
  id          String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  nombregrupo String
  data        Json
  created_at  DateTime? @default(now()) @db.Timestamptz(6)
  updated_at  DateTime? @default(now()) @db.Timestamptz(6)
}

model horarios_profes {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  name       String
  data       Json
  created_at DateTime? @default(now()) @db.Timestamptz(6)
  updated_at DateTime? @default(now()) @db.Timestamptz(6)
}

model materias {
  id           String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  nombre       String
  carrera      String
  grado        Int
  data         Json?
  created_at   DateTime? @default(now()) @db.Timestamptz(6)
  updated_at   DateTime? @default(now()) @db.Timestamptz(6)
  horas_semana Int
  salones      Json?     @default("[]")
}

model profesores {
  profesor_id  String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  nombre       String
  apellidos    String
  email        String
  can_be_tutor Boolean?  @default(false)
  materias     Json?     @default("[]")
  metadata     Json?     @default("{}")
  created_at   DateTime? @default(now()) @db.Timestamptz(6)
  updated_at   DateTime? @default(now()) @db.Timestamptz(6)
  min_hora     Int?
}

model salones {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  nombre     String
  data       Json?
  created_at DateTime? @default(now()) @db.Timestamptz(6)
  updated_at DateTime? @default(now()) @db.Timestamptz(6)
  division   String
}

model users {
  id            String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  email         String    @unique
  password_hash String
  full_name     String?
  role          String?   @default("user")
  created_at    DateTime? @default(now()) @db.Timestamptz(6)
  updated_at    DateTime? @default(now()) @db.Timestamptz(6)
  metadata      Json?     @default("{}")
}
